<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coding Challenge 1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Coding Challenge 1</h1>

    <form>
        <label>Tên đội 1</label>
        <input type="text" id="team1" placeholder="VD: Bayern Munich">

        <label>11 cầu thủ đội 1 (cách nhau bằng dấu phẩy)</label>
        <input type="text" id="players1" placeholder="Neuer,Pavard,...">

        <label>Tên đội 2</label>
        <input type="text" id="team2" placeholder="VD: Dortmund">

        <label>11 cầu thủ đội 2 (cách nhau bằng dấu phẩy)</label>
        <input type="text" id="players2" placeholder="Burki,Schulz,...">

        <label>Cầu thủ ghi bàn (cách nhau bằng dấu phẩy)</label>
        <input type="text" id="scored" placeholder="Lewandowski,Gnabry">

        <label>Odds đội 1</label>
        <input type="number" id="odd1" step="0.01">

        <label>Odds hòa</label>
        <input type="number" id="oddX" step="0.01">

        <label>Odds đội 2</label>
        <input type="number" id="odd2" step="0.01">

        <button type="button" id="run">Run</button>
    </form>

    <div class="result" id="result">
    <h3>Kết quả</h3>
</div>

</div>

<script>
    const resultDiv = document.getElementById("result");

    document.getElementById("run").onclick = function () {
        resultDiv.innerHTML = "<h3>Kết quả</h3>";

        const team1 = document.getElementById("team1").value;
        const team2 = document.getElementById("team2").value;

        const players1 = document.getElementById("players1").value
            .split(",").map(p => p.trim()).filter(Boolean);

        const players2 = document.getElementById("players2").value
            .split(",").map(p => p.trim()).filter(Boolean);

        const scored = document.getElementById("scored").value
            .split(",").map(p => p.trim()).filter(Boolean);

        const odd1 = Number(document.getElementById("odd1").value);
        const oddX = Number(document.getElementById("oddX").value);
        const odd2 = Number(document.getElementById("odd2").value);

        if (players1.length !== 11 || players2.length !== 11) {
            resultDiv.innerHTML += "<p>❌ Mỗi đội phải có đúng 11 cầu thủ</p>";
            return;
        }

        // ===== XỬ LÝ DỮ LIỆU =====
        const [gk, ...fieldPlayers] = players1;
        const allPlayers = [...players1, ...players2];
        const players1Final = [...players1, "Thiago", "Coutinho", "Perisic"];

        let winnerText = "Hai đội có tỷ lệ ngang nhau";
        odd1 < odd2 && (winnerText = `${team1} có khả năng thắng cao hơn`);
        odd2 < odd1 && (winnerText = `${team2} có khả năng thắng cao hơn`);

        // ===== HIỂN THỊ =====
        resultDiv.innerHTML += `<p><strong>Thủ môn đội 1:</strong> ${gk}</p>`;
        resultDiv.innerHTML += `<p><strong>Cầu thủ sân đội 1:</strong> ${fieldPlayers.join(", ")}</p>`;
        resultDiv.innerHTML += `<p><strong>Tổng số cầu thủ:</strong> ${allPlayers.length}</p>`;
        resultDiv.innerHTML += `<p><strong>Đội 1 sau thay người:</strong> ${players1Final.join(", ")}</p>`;

        resultDiv.innerHTML += `<p><strong>Odds:</strong> 
            ${team1} (${odd1}) | Hòa (${oddX}) | ${team2} (${odd2})
        </p>`;

        resultDiv.innerHTML += `<p><strong>Cầu thủ ghi bàn:</strong> ${
            scored.length ? scored.join(", ") : "Không có"
        }</p>`;

        resultDiv.innerHTML += `<p><strong>Tổng số bàn thắng:</strong> ${scored.length}</p>`;

        resultDiv.innerHTML += `<p><strong>Kết luận:</strong> ${winnerText}</p>`;
    };
</script>


</body>
</html>
